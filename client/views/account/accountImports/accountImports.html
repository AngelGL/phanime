<template name="accountImports">

	<div class="block" style="margin-top:0">
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3">
				<div class="form-group">
					<h3 class="sub-text">Import your MAL list</h3>
				</div>
				<div class="form-group">
					<input type="file" id="uploadXMLFile" class="form-control upload-xml">
				</div>
				<div class="form-group">
					<button id="importMal" class="btn btn-primary btn-md btn-transparent btn-full-width">Import Anime List</button>
				</div>

				<p class="sub-text">Note: This function will only import anime entries from your MAL list. Additionally, it'll only add entries that have existing anime in phanime's database, it will ignore the rest. If an entry already exists in your phanime library, then it'll ignore that as well.</p>


				{{#if importErrors}}
					<h3 class="sub-text">Failed to import:</h3>
					<div class="well">
						{{#each importErrors.failedImports}}
							<h4>{{canonicalTitle}}</h4>
							<ul>
							{{#each invalidKeys}}
								<li>{{name}}: {{type}}</li>
							{{/each}}
							</ul>

							<hr>
						{{else}}
							<h4>Successfully imported all entries with anime found in our database</h4>
						{{/each}}
					</div>


					<h3 class="sub-text">Anime not found:</h3>
					<div class="well">
						{{#each importErrors.notFoundAnime}}
							<h4>{{canonicalTitle}}</h4>
							<ul>
							{{#each invalidKeys}}
								<li>{{name}}: {{type}}</li>
							{{/each}}
							</ul>

							<hr>
						{{else}}
							<h4>We matched all anime in your list to the ones in our database.</h4>
						{{/each}}
					</div>

				{{/if}}
			</div>
		</div>
	</div>

</template>